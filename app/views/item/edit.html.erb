<h1>Edit an Item</h1>

<% if @item.errors.any? %>
<p>
    <%@item.errors.each do |attribute, message| %>
	<%= attribute %> : <%= message %>.
	<br />
	<% end %>
</p>
<% end %>

<%= form_tag "/item/#{@item.id}", :method => "patch" do %>

  <div>
    <label>Name:</label>
    <input type="text" name="name" value="<%= @item.name %>" size="30">
  </div>

  <div>
    <label>Barcode:</label>
    <input type="text" name="barcode" value="<%= @item.barcode %>" size="30">
  </div>
  
  <div>
    <label>Status:</label>
    <select name="status">
	<% Item.statuses.each do |s| %>
		<% if @item.status == s.first %>
			<option selected value="<%= s.first %>"><%= s.first %></option>
		<% else %>
			<option value="<%= s.first %>"><%= s.first %></option>
		<% end %>
    <% end %>
	</select>
  </div>
  
  
  <div>
	<label>Category:</label>
      <select name="category_id">
    <% Category.all.each do |c| %>
      <option value="<%= c.id %>"> <%= c.name %></option>
    <% end %>
  </select>
  </div>
  
  <div>
	<label>Type:</label>
      <select name="type_id">
    <% Type.all.each do |t| %>
      <option value="<%= t.id %>"> <%= t.name %></option>
    <% end %>
  </select>
  </div>
  
  <div>
    <label>Condition:</label>
    <select name="condition">
	<% Item.conditions.each do |c| %>
		<% if @item.condition == c.first %>
			<option selected value="<%= c.first %>"><%= c.first %></option>
		<% else %>
			<option value="<%= c.first %>"><%= c.first %></option>
		<% end %>
    <% end %>
	</select>
  </div>

  <input type="submit" value="Update">

<% end %>
